<div class="d-none" id="mods">false</div>
<div class="d-none" id="home">true</div>

<div class="col-12 mb-4">
    <nav class="navbar navbar-expand-lg navbar-dark p-0">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse navbar-secondary" id="navbarColor03">
            <ul class="nav navbar-nav mr-auto aa-nav" id="pills-tab">
                <li class="nav-item">
                    <a  class="nav-link active btn-dark p-3" id="pills-llog-tab" data-toggle="pill" href="#pills-llog" role="tab" aria-controls="pills-llog" aria-selected="false" onclick="setdisplay('logbar', 'inline-flex');" onmouseenter="$('#llog').toggleClass('d-lg-none', false)" onmouseleave="$('#llog').toggleClass('d-lg-none', true)">
                        <i class="nav-icon fas fa-list pr-1" aria-hidden="true"></i> <span id="llog" class="d-lg-none">{::lang::servercenter::home::nav::llog}</span>
                    </a>
                </li>

                {rcon}{lchatactive}{permissions??server??{cfg}??home??livechat_show}
                <li class="nav-item">
                    <a  class="nav-link btn-dark p-3" id="pills-lchat-tab" data-toggle="pill" href="#pills-lchat" role="tab" aria-controls="pills-lchat" aria-selected="false" onclick="setdisplay('logbar', 'inline-flex');" onmouseenter="$('#lchat').toggleClass('d-lg-none', false)" onmouseleave="$('#lchat').toggleClass('d-lg-none', true)">
                        <i class="nav-icon fas fa-comment pr-1" aria-hidden="true"></i> <span id="lchat" class="d-lg-none">{::lang::servercenter::home::nav::lchat}</span>
                    </a>
                </li>
                {/permissions}{/lchatactive}

                {permissions??server??{cfg}??home??rcon_show}
                <li class="nav-item">
                    <a  class="nav-link btn-dark p-3" id="pills-rcon-tab" data-toggle="pill" href="#pills-rcon" role="tab" aria-controls="pills-rcon" aria-selected="false" onclick="setdisplay('logbar', 'inline-flex');" onmouseenter="$('#rcon').toggleClass('d-lg-none', false)" onmouseleave="$('#rcon').toggleClass('d-lg-none', true)">
                        <i class="nav-icon fas fa-terminal pr-1" aria-hidden="true"></i> <span id="rcon" class="d-lg-none">{::lang::servercenter::home::nav::rcon}</span>
                    </a>
                </li>
                {/permissions}{/rcon} {installed}{!ifcadmin}

                {permissions??server??{cfg}??home??admin_show}
                <li class="nav-item">
                    <a  class="nav-link btn-dark p-3" id="pills-admins-tab" data-toggle="pill" href="#pills-admins" role="tab" aria-controls="pills-admins" aria-selected="false" onclick="setdisplay('logbar', 'none');" onmouseenter="$('#admins').toggleClass('d-lg-none', false)" onmouseleave="$('#admins').toggleClass('d-lg-none', true)">
                        <i class="nav-icon fas fa-star pr-1" aria-hidden="true"></i> <span id="admins" class="d-lg-none">{::lang::servercenter::home::nav::admin}</span>
                    </a>
                </li>
                {/permissions}{/!ifcadmin}{!ifwhitelist}

                {permissions??server??{cfg}??home??whitelist_show}
                <li class="nav-item">
                    <a  class="nav-link btn-dark p-3" id="pills-whitel-tab" data-toggle="pill" href="#pills-whitel" role="tab" aria-controls="pills-whitel" aria-selected="false" onclick="setdisplay('logbar', 'none');" onmouseenter="$('#whitel').toggleClass('d-lg-none', false)" onmouseleave="$('#whitel').toggleClass('d-lg-none', true)">
                        <i class="nav-icon fas fa-door-open pr-1" aria-hidden="true"></i> <span id="whitel" class="d-lg-none">{::lang::servercenter::home::nav::whitel}</span>
                    </a>
                </li>
                {/permissions}{/!ifwhitelist}{/installed}
            </ul>

            <ul class="nav navbar-nav aa-nav ml-auto float-right" id="logbar">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle btn-dark p-3" href="#" id="filter_txt-drop" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {::lang::allg::logs::filter}: <b id="filter_txt">{::lang::allg::on}</b> <span class="d-none" id="filter">true</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="filter_txt-drop">
                        <a class="dropdown-item" href="javascript:void(true);" onclick="set('{::lang::allg::on}', 'filter_txt');set('true', 'filter')">{::lang::allg::on}</a>
                        <a class="dropdown-item" href="javascript:void(true);" onclick="set('{::lang::allg::off}', 'filter_txt');set('false', 'filter')">{::lang::allg::off}</a>
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle btn-dark p-3" href="#" id="max-drop" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Max: <b id="max">25</b>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="max-drop">
                        <a class="dropdown-item" href="javascript:void;" onclick="set(25, 'max')">25</a>
                        <a class="dropdown-item" href="javascript:void;" onclick="set(50, 'max')">50</a>
                        <a class="dropdown-item" href="javascript:void;" onclick="set(150, 'max')">150</a>
                        <a class="dropdown-item" href="javascript:void;" onclick="set(250, 'max')">250</a>
                        <a class="dropdown-item" href="javascript:void;" onclick="set(500, 'max')">500</a>
                        <a class="dropdown-item" href="javascript:void;" onclick="set('∞', 'max')">∞</a>
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle btn-dark p-3" href="#" id="hide-drop" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i id="iconhide" class="null fas fa-check" aria-hidden="true"></i>
                        <span class="d-none" id="hide">Ja</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="hide-drop">
                        <a class="dropdown-item" href="javascript:void();" onclick="set('Ja', 'hide');set_icon('fas', 'fa-check', 'iconhide')">
                            <i class="fas fa-check" aria-hidden="true"></i> {::lang::allg::logs::hide}
                        </a>
                        <a class="dropdown-item" href="javascript:void();" onclick="set('Nein', 'hide');set_icon('fa', 'fa-times', 'iconhide')">
                            <i class="fa fa-times" aria-hidden="true"></i> {::lang::allg::logs::show}
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <hr />
    <div class="card shadow">
        <div class="tab-content" id="pills-tabContent">

            <div class="tab-pane fade show active" id="pills-llog" role="tabpanel" aria-labelledby="pills-llog-tab">
                <table class="table table-striped mb-0" style="border: 0!important;">
                    <tr class="bg-dark">
                        <th colspan="2" class="p-0" style="border: 0!important;">
                            <div class="list-group-item bg-dark">
                                <h4 class="m-0">{::lang::servercenter::home::nav::llog}</h4>
                            </div>
                        </th>
                    </tr>
                </table>
                <table class="table table-striped mb-0" id="livelog">
                    <tr>
                        <td>
                            <div class="row p-0">
                                <div class="col-12">
                                    <i class="text-black-50 fas fa-cog fa-spin -align-left position-absolute" style="font-size: 45px;color: rgba(0,0,0,.5)!important;" height="50" width="50"></i>
                                    <div style="margin-left: 60px;">{::lang::servercenter::load}<br><span class="font-weight-light" style="font-size: 11px;">{::lang::servercenter::wait}</span></div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            {rcon}
                {lchatactive}{permissions??server??{cfg}??home??livechat_show}
                    <div class="tab-pane fade" id="pills-lchat" role="tabpanel" aria-labelledby="pills-lchat-tab">
                        <table class="table table-striped mb-0" style="border: 0!important;">
                            <tr class="bg-dark">
                                <th colspan="2" class="p-0" style="border: 0!important;">
                                    <div class="list-group-item bg-dark">
                                        <h4 class="m-0">{::lang::servercenter::home::nav::lchat}</h4>
                                    </div>
                                </th>
                            </tr>
                            <tr>
                                <td class="p-0" id="livechatresp"></td>
                            </tr>
                            <tr>
                                <td class="p-2">
                                    <div class="form-group row m-0">
                                        <label class="col-sm-2 col-form-label pt-1">{::lang::servercenter::home::section::lchat::msg}</label>
                                        <div class="col-sm-7">
                                            <input type="text" id="livechat_text" class="form-control form-control-sm" placeholder="{::lang::servercenter::home::section::lchat::msg_placeholder}">
                                            <input type="hidden" id="livechat_user" value="{SESSION_USERNAME}">
                                            <input type="hidden" id="livechat_cfg" value="{cfg}">
                                        </div>
                                        <div class="col-sm-3">
                                            <button type="submit" class="btn btn-sm btn-primary mb-3" style="width:100%" id="sendchat">{::lang::servercenter::home::section::lchat::btn_send}</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <table class="table table-striped mb-0" id="lchatlog">
                            <tr>
                                <td>
                                    <div class="row p-0">
                                        <div class="col-12">
                                            <i class="text-black-50 fas fa-cog fa-spin -align-left position-absolute" style="font-size: 45px;color: rgba(0,0,0,.5)!important;" height="50" width="50"></i>
                                            <div style="margin-left: 60px;">{::lang::servercenter::load}<br><span class="font-weight-light" style="font-size: 11px;">{::lang::servercenter::wait}</span></div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                {/permissions}{/lchatactive}

                {permissions??server??{cfg}??home??rcon_show}
                    <div class="tab-pane fade" id="pills-rcon" role="tabpanel" aria-labelledby="pills-rcon-tab">
                        <table class="table table-striped mb-0" style="border: 0!important;">
                            <tr class="bg-dark">
                                <th colspan="2" class="p-0" style="border: 0!important;">
                                    <div class="list-group-item bg-dark">
                                        <h4 class="m-0">{::lang::servercenter::home::nav::rcon}</h4>
                                    </div>
                                </th>
                            </tr>
                            <tr>
                                <td class="p-0" id="rconresp"></td>
                            </tr>
                            <tr>
                                <td class="p-2">
                                    <div class="form-group row m-0">
                                        <label class="col-sm-2 col-form-label pt-1">{::lang::servercenter::home::section::rcon::command}</label>
                                        <div class="col-sm-7">
                                            <div class="input-group mb-0">
                                                <input type="text" id="rcon_text" class="form-control form-control-sm" placeholder="{::lang::servercenter::home::section::rcon::command_placeholder}">
                                                <div class="input-group-append">
                                                    <select class="form-control form-control-sm" onchange="sel_in_input('#rcon_text', '#' + this.id)" id="selrocn">
                                                        <option value="">{::lang::allg::default::select}</option>
                                                        <option value="destroywilddinos">destroywilddinos</option>
                                                        <option value="saveworld">saveworld</option>
                                                        <option value="giveitemtoplayer <PlayerID> <ItemName> <QTY> <Quality> <True/False>">giveitemtoplayer </option>
                                                        <option value="kickplayer <Steam64ID>">kickplayer</option>
                                                        <option value="banplayer <Steam64ID>">banplayer</option>
                                                        <option value="unbanplayer <Steam64ID>">unbanplayer</option>
                                                        <option value='RenamePlayer <"Player Name"> <New Name>'>unbanplayer</option>
                                                        <option value='RenameTribe <"Tribe Name"> <New Name>'>unbanplayer</option>
                                                        <option value="giveexptoplayer <id> <how much> <tribeshared> <preventsharing>">giveexptoplayer</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <input type="hidden" id="rcon_user" value="{SESSION_USERNAME}">
                                            <input type="hidden" id="rcon_cfg" value="{cfg}">
                                        </div>
                                        <div class="col-sm-3">
                                            <button type="submit" class="btn btn-sm btn-primary mb-3" style="width:100%" id="send_rcon">{::lang::servercenter::home::section::rcon::btn_send}</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <table class="table table-striped mb-0" id="rconlog">
                            <tr>
                                <td>
                                    <div class="row p-0">
                                        <div class="col-12">
                                            <i class="text-black-50 fas fa-cog fa-spin -align-left position-absolute" style="font-size: 45px;color: rgba(0,0,0,.5)!important;" height="50" width="50"></i>
                                            <div style="margin-left: 60px;">{::lang::servercenter::load}<br><span class="font-weight-light" style="font-size: 11px;">{::lang::servercenter::wait}</span></div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                {/permissions}
            {/rcon}

            {installed}
                {!ifcadmin}{permissions??server??{cfg}??home??admin_show}
                    <div class="tab-pane fade" id="pills-admins" role="tabpanel" aria-labelledby="pills-admins-tab">
                        <table class="table table-striped mb-0" style="border: 0!important;">
                            <tr class="bg-dark">
                                <th colspan="2" class="p-0" style="border: 0!important;">
                                    <div class="list-group-item bg-dark">
                                        <h4 class="m-0">{::lang::servercenter::home::nav::admin}</h4>
                                    </div>
                                </th>
                            </tr>
                            <tr>
                                <td class="p-2">
                                    <form action="#add_admin" method="post" class="form-group row m-0">
                                        <label class="col-sm-2 col-form-label pt-1">{::lang::servercenter::home::section::rcon::command}</label>
                                        <div class="col-sm-7">
                                            <div class="input-group mb-0">
                                                <input type="hidden" name="key[]" readonly="" value="serverMap">
                                                <input type="text" name="id" class="form-control form-control-sm" placeholder="SteamID" id="steamid">
                                                <div class="input-group-append">
                                                    <select class="form-control form-control-sm" onchange="sel_in_input('#steamid', '#' + this.id)" id="charsel">
                                                        <option value="">{::lang::allg::default::select}</option>
                                                        {userlist_admin}
                                                    </select>
                                                </div>
                                            </div>
                                            <span class="text-sm">{::lang::servercenter::home::section::admin::info}</span>
                                        </div>
                                        <div class="col-sm-3">
                                            <button type="submit" class="btn btn-sm btn-primary mb-3" style="width:100%" name="addadmin">{::lang::servercenter::home::section::admin::btn_add}</button>
                                        </div>
                                    </form>
                                </td>
                            </tr>
                        </table>
                        <ul class="list-group">
                            {adminlist_admin}
                        </ul>
                    </div>
                {/permissions}{/!ifcadmin}

                {!ifwhitelist}{permissions??server??{cfg}??home??whitelist_show}
                            <div class="tab-pane fade" id="pills-whitel" role="tabpanel" aria-labelledby="pills-whitel-tab">
                                <table class="table table-striped mb-0" style="border: 0!important;">
                                    <tr class="bg-dark">
                                        <th colspan="2" class="p-0" style="border: 0!important;">
                                            <div class="list-group-item bg-dark">
                                                <h4 class="m-0">{::lang::servercenter::home::nav::admin}</h4>
                                            </div>
                                        </th>
                                    </tr>
                                    <tr>
                                        <td class="p-0">{!whiteactive}{whiteactive_meld}{/!whiteactive}</td>
                                    </tr>
                                    <tr>
                                        <td class="p-2">
                                            <form action="#add_admin" id="sendwhitelist" method="post" class="form-group row m-0">
                                                <label class="col-sm-2 col-form-label pt-1">{::lang::servercenter::home::section::rcon::command}</label>
                                                <div class="col-sm-7">
                                                    <input class="form-control form-control-sm" name="sid" id="SteamID" type="number" required placeholder="{::lang::servercenter::home::section::whitel::PH}">
                                                    <input class="form-control" name="cfg" type="hidden" value="{cfg}">
                                                    <input class="form-control" name="case" type="hidden" value="togglewhitelist">
                                                </div>
                                                <div class="col-sm-3">
                                                    <button type="submit" class="btn btn-sm btn-primary mb-3" style="width:100%" name="addadmin">{::lang::servercenter::home::section::whitel::btn}</button>
                                                </div>
                                            </form>
                                        </td>
                                    </tr>
                                </table>
                                <ul class="list-group" id="whitelist"></ul>
                                </div>
                            </div>
                {/permissions}{/!ifwhitelist}
            {/installed}
        </div>
    </div>
</div>

<script>
    // Vars die zur JS übergeben werden

    // Allgemeine Vars
    var vars = {};
    vars.ROOT = '{ROOT}';
    vars.ADIR = '{ADIR}';
    vars.cfg = "{cfg}";
    vars.lchatlog = "{lchatlog}";
    vars.rconlog = "{rconlog}";

    // Sprache
    var lang = {};
    lang.send_fail = "{::lang::allg::send_fail}";
    lang.send_done_chat = "{::lang::allg::send_done_chat}";
    lang.send_done = "{::lang::allg::send_done}";

    // Sprache / Aktionen
    var actions = {};
</script>
<script src="/app/dist/js/arkadmin2/sub_pages/servercenter/home.js?t={TIMESTAMP}" type="application/javascript"></script>